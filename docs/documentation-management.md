# Documentation Management System

This system helps manage markdown documentation files by tracking metadata, extracting content structure, and enhancing searchability through AI-powered summaries and tagging.

## Overview

The Documentation Management System provides:

1. **Metadata Tracking**: Store and manage metadata about markdown files without modifying the files themselves
2. **AI-Enhanced Summaries**: Generate concise summaries of documents using AI
3. **Automatic Tagging**: Extract relevant tags from document content
4. **Relationship Detection**: Identify and track relationships between documents
5. **Full-Text Search**: Search across all documentation with relevance ranking
6. **Section Navigation**: Track document structure for easy navigation

## Database Structure

The system uses the following database tables:

- `documentation_files`: Stores metadata about markdown files
- `documentation_sections`: Tracks sections within documents
- `documentation_relations`: Manages relationships between documents
- `documentation_processing_queue`: Manages the AI processing queue

## Getting Started

### Prerequisites

1. Ensure your Supabase project is set up
2. Run the migration files in the Supabase UI:
   - `20240517000000_create_documentation_tables.sql`
   - `20240517000001_create_documentation_functions.sql`
   - `20240517000002_create_documentation_search.sql`

### Directory Structure

Place your markdown documentation files in a directory structure of your choice. The system will maintain the relative paths in the database.

Example structure:
```
docs/
  ├── guides/
  │   ├── getting-started.md
  │   └── advanced-usage.md
  ├── api/
  │   ├── endpoints.md
  │   └── authentication.md
  └── README.md
```

### Processing Documentation

Use the provided script to process your documentation:

```bash
# Install dependencies
pnpm add marked crypto

# Process all markdown files in the docs directory
ts-node scripts/process-documentation.ts scan --docs-dir ./docs

# Process a specific file
ts-node scripts/process-documentation.ts process guides/getting-started.md --docs-dir ./docs

# Process files in the AI queue
ts-node scripts/process-documentation.ts process-queue

# Process all files in the AI queue
ts-node scripts/process-documentation.ts process-all --limit 10
```

## Markdown Format

The system supports standard markdown files with optional YAML frontmatter:

```markdown
---
title: Getting Started
description: A guide to get started with our product
tags: beginner, setup, configuration
author: John Doe
date: 2024-05-17
---

# Getting Started

This guide will help you get started with our product...
```

If frontmatter is not provided, the system will extract metadata from the content:
- Title: First heading or filename
- Summary: First paragraph
- Tags: Generated by AI based on content

## AI Processing

The system uses a simple AI approach to:

1. Generate document summaries
2. Extract relevant tags
3. Identify potential relationships between documents

In the current implementation, the AI functionality is simulated:
- Summaries are extracted from the first paragraph
- Tags are generated based on word frequency
- Relationships are detected through markdown links

This can be enhanced with actual AI services in the future.

## Searching Documentation

The system provides several search functions:

```typescript
// Search by query text
const results = await documentationService.searchDocumentation('getting started');

// Search by tag
const tagResults = await documentationService.searchDocumentsByTag('configuration');

// Find related documents
const relatedDocs = await documentationService.findRelatedDocuments(documentId);
```

## Future Enhancements

Potential enhancements to the system:

1. **UI Integration**: Build a documentation viewer/browser
2. **Real AI Integration**: Connect to OpenAI or other AI services
3. **Version Tracking**: Track changes to documentation over time
4. **User Annotations**: Allow users to add notes and annotations
5. **Export Functionality**: Export documentation in different formats
6. **Collaboration Features**: Add commenting and collaboration tools

## Technical Details

The system consists of:

1. **Database Schema**: Tables and functions in Supabase
2. **TypeScript Service**: `DocumentationService` class for interacting with the system
3. **Command-Line Tool**: Script for processing documentation files

For more details, see the implementation in:
- `apps/dhg-improve-experts/src/services/documentationService.ts`
- `scripts/process-documentation.ts`
- Supabase migration files 